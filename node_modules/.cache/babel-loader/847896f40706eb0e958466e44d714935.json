{"remainingRequest":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\thread-loader\\dist\\cjs.js!D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\babel-loader\\lib\\index.js!D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\@jiaminghi\\data-view\\lib\\components\\capsuleChart\\src\\main.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\@jiaminghi\\data-view\\lib\\components\\capsuleChart\\src\\main.vue","mtime":1629615077992},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628318231129},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1628318231129},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\babel-loader\\lib\\index.js","mtime":1628318231494},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628318231129},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628318231605}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9CYWlkdU5ldGRpc2tXb3Jrc3BhY2UvXHU3QTBCXHU1RThGXHU2NTg3XHU0RUY2L1x1NEU5NVx1NUJBNFx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERlx1NTI0RFx1N0FFRi93ZWxsbWFuYWdlbWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWxsLmpzIjsKaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnQGppYW1pbmdoaS9jaGFydHMvbGliL3V0aWwvaW5kZXgnOwppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICdAamlhbWluZ2hpL2MtcmVuZGVyL2xpYi9wbHVnaW4vdXRpbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRHZDYXBzdWxlQ2hhcnQnLAogIHByb3BzOiB7CiAgICBjb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0Q29uZmlnOiB7CiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIENhcHN1bGUgY2hhcnQgZGF0YQogICAgICAgICAqIEB0eXBlIHtBcnJheTxPYmplY3Q+fQogICAgICAgICAqIEBkZWZhdWx0IGRhdGEgPSBbXQogICAgICAgICAqIEBleGFtcGxlIGRhdGEgPSBbeyBuYW1lOiAnZm9vMScsIHZhbHVlOiAxMDAgfSwgeyBuYW1lOiAnZm9vMicsIHZhbHVlOiAxMDAgfV0KICAgICAgICAgKi8KICAgICAgICBkYXRhOiBbXSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIENvbG9ycyAoaGV4fHJnYnxyZ2JhfGNvbG9yIGtleXdvcmRzKQogICAgICAgICAqIEB0eXBlIHtBcnJheTxTdHJpbmc+fQogICAgICAgICAqIEBkZWZhdWx0IGNvbG9yID0gWycjMzdhMmRhJywgJyMzMmM1ZTknLCAnIzY3ZTBlMycsICcjOWZlNmI4JywgJyNmZmRiNWMnLCAnI2ZmOWY3ZicsICcjZmI3MjkzJ10KICAgICAgICAgKiBAZXhhbXBsZSBjb2xvciA9IFsnIzAwMCcsICdyZ2IoMCwgMCwgMCknLCAncmdiYSgwLCAwLCAwLCAxKScsICdyZWQnXQogICAgICAgICAqLwogICAgICAgIGNvbG9yczogWycjMzdhMmRhJywgJyMzMmM1ZTknLCAnIzY3ZTBlMycsICcjOWZlNmI4JywgJyNmZmRiNWMnLCAnI2ZmOWY3ZicsICcjZmI3MjkzJ10sCgogICAgICAgIC8qKgogICAgICAgICAqIEBkZXNjcmlwdGlvbiBDaGFydCB1bml0CiAgICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICAgKiBAZGVmYXVsdCB1bml0ID0gJycKICAgICAgICAgKi8KICAgICAgICB1bml0OiAnJywKCiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgaXRlbSB2YWx1ZQogICAgICAgICAqIEB0eXBlIHtCb29sZWFufQogICAgICAgICAqIEBkZWZhdWx0IHNob3dWYWx1ZSA9IGZhbHNlCiAgICAgICAgICovCiAgICAgICAgc2hvd1ZhbHVlOiBmYWxzZQogICAgICB9LAogICAgICBtZXJnZWRDb25maWc6IG51bGwsCiAgICAgIGNhcHN1bGVMZW5ndGg6IFtdLAogICAgICBjYXBzdWxlVmFsdWU6IFtdLAogICAgICBsYWJlbERhdGE6IFtdLAogICAgICBsYWJlbERhdGFMZW5ndGg6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKCkgewogICAgICB2YXIgY2FsY0RhdGEgPSB0aGlzLmNhbGNEYXRhOwogICAgICBjYWxjRGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY0RhdGE6IGZ1bmN0aW9uIGNhbGNEYXRhKCkgewogICAgICB2YXIgbWVyZ2VDb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnLAogICAgICAgICAgY2FsY0NhcHN1bGVMZW5ndGhBbmRMYWJlbERhdGEgPSB0aGlzLmNhbGNDYXBzdWxlTGVuZ3RoQW5kTGFiZWxEYXRhOwogICAgICBtZXJnZUNvbmZpZygpOwogICAgICBjYWxjQ2Fwc3VsZUxlbmd0aEFuZExhYmVsRGF0YSgpOwogICAgfSwKICAgIG1lcmdlQ29uZmlnOiBmdW5jdGlvbiBtZXJnZUNvbmZpZygpIHsKICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnLAogICAgICAgICAgZGVmYXVsdENvbmZpZyA9IHRoaXMuZGVmYXVsdENvbmZpZzsKICAgICAgdGhpcy5tZXJnZWRDb25maWcgPSBkZWVwTWVyZ2UoZGVlcENsb25lKGRlZmF1bHRDb25maWcsIHRydWUpLCBjb25maWcgfHwge30pOwogICAgfSwKICAgIGNhbGNDYXBzdWxlTGVuZ3RoQW5kTGFiZWxEYXRhOiBmdW5jdGlvbiBjYWxjQ2Fwc3VsZUxlbmd0aEFuZExhYmVsRGF0YSgpIHsKICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lcmdlZENvbmZpZy5kYXRhOwogICAgICBpZiAoIWRhdGEubGVuZ3RoKSByZXR1cm47CiAgICAgIHZhciBjYXBzdWxlVmFsdWUgPSBkYXRhLm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciB2YWx1ZSA9IF9yZWYudmFsdWU7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9KTsKICAgICAgdmFyIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGNhcHN1bGVWYWx1ZSkpOwogICAgICB0aGlzLmNhcHN1bGVWYWx1ZSA9IGNhcHN1bGVWYWx1ZTsKICAgICAgdGhpcy5jYXBzdWxlTGVuZ3RoID0gY2Fwc3VsZVZhbHVlLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBtYXhWYWx1ZSA/IHYgLyBtYXhWYWx1ZSA6IDA7CiAgICAgIH0pOwogICAgICB2YXIgb25lRmlmdGggPSBtYXhWYWx1ZSAvIDU7CiAgICAgIHZhciBsYWJlbERhdGEgPSBBcnJheS5mcm9tKG5ldyBTZXQobmV3IEFycmF5KDYpLmZpbGwoMCkubWFwKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChpICogb25lRmlmdGgpOwogICAgICB9KSkpOwogICAgICB0aGlzLmxhYmVsRGF0YSA9IGxhYmVsRGF0YTsKICAgICAgdGhpcy5sYWJlbERhdGFMZW5ndGggPSBBcnJheS5mcm9tKGxhYmVsRGF0YSkubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIG1heFZhbHVlID8gdiAvIG1heFZhbHVlIDogMDsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGNhbGNEYXRhID0gdGhpcy5jYWxjRGF0YTsKICAgIGNhbGNEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\@jiaminghi\\data-view\\lib\\components\\capsuleChart\\src\\main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"dv-capsule-chart\">\n    <template v-if=\"mergedConfig\">\n      <div class=\"label-column\">\n        <div v-for=\"item in mergedConfig.data\" :key=\"item.name\">{{ item.name }}</div>\n        <div>&nbsp;</div>\n      </div>\n\n      <div class=\"capsule-container\">\n        <div class=\"capsule-item\" v-for=\"(capsule, index) in capsuleLength\" :key=\"index\">\n          <div\n            class=\"capsule-item-column\"\n            :style=\"`width: ${capsule * 100}%; background-color: ${mergedConfig.colors[index % mergedConfig.colors.length]};`\"\n          >\n            <div\n              v-if=\"mergedConfig.showValue\"\n              class=\"capsule-item-value\"\n            >{{ capsuleValue[index] }}</div>\n          </div>\n        </div>\n\n        <div class=\"unit-label\">\n          <div\n            v-for=\"(label, index) in labelData\"\n            :key=\"label + index\"\n          >{{ label }}</div>\n        </div>\n      </div>\n\n      <div class=\"unit-text\" v-if=\"mergedConfig.unit\">{{ mergedConfig.unit }}</div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nexport default {\n  name: 'DvCapsuleChart',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      defaultConfig: {\n        /**\n         * @description Capsule chart data\n         * @type {Array<Object>}\n         * @default data = []\n         * @example data = [{ name: 'foo1', value: 100 }, { name: 'foo2', value: 100 }]\n         */\n        data: [],\n        /**\n         * @description Colors (hex|rgb|rgba|color keywords)\n         * @type {Array<String>}\n         * @default color = ['#37a2da', '#32c5e9', '#67e0e3', '#9fe6b8', '#ffdb5c', '#ff9f7f', '#fb7293']\n         * @example color = ['#000', 'rgb(0, 0, 0)', 'rgba(0, 0, 0, 1)', 'red']\n         */\n        colors: [\n          '#37a2da',\n          '#32c5e9',\n          '#67e0e3',\n          '#9fe6b8',\n          '#ffdb5c',\n          '#ff9f7f',\n          '#fb7293'\n        ],\n        /**\n         * @description Chart unit\n         * @type {String}\n         * @default unit = ''\n         */\n        unit: '',\n        /**\n         * @description Show item value\n         * @type {Boolean}\n         * @default showValue = false\n         */\n        showValue: false\n      },\n\n      mergedConfig: null,\n\n      capsuleLength: [],\n      capsuleValue: [],\n      labelData: [],\n      labelDataLength: []\n    }\n  },\n  watch: {\n    config() {\n      const { calcData } = this\n\n      calcData()\n    }\n  },\n  methods: {\n    calcData() {\n      const { mergeConfig, calcCapsuleLengthAndLabelData } = this\n\n      mergeConfig()\n\n      calcCapsuleLengthAndLabelData()\n    },\n    mergeConfig() {\n      let { config, defaultConfig } = this\n\n      this.mergedConfig = deepMerge(\n        deepClone(defaultConfig, true),\n        config || {}\n      )\n    },\n    calcCapsuleLengthAndLabelData() {\n      const { data } = this.mergedConfig\n\n      if (!data.length) return\n\n      const capsuleValue = data.map(({ value }) => value)\n\n      const maxValue = Math.max(...capsuleValue)\n\n      this.capsuleValue = capsuleValue\n\n      this.capsuleLength = capsuleValue.map(v => (maxValue ? v / maxValue : 0))\n\n      const oneFifth = maxValue / 5\n\n      const labelData = Array.from(\n        new Set(new Array(6).fill(0).map((v, i) => Math.ceil(i * oneFifth)))\n      )\n\n      this.labelData = labelData\n\n      this.labelDataLength = Array.from(labelData).map(v =>\n        maxValue ? v / maxValue : 0\n      )\n    }\n  },\n  mounted() {\n    const { calcData } = this\n\n    calcData()\n  }\n}\n</script>"],"sourceRoot":""}]}