{"remainingRequest":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\src\\components\\DeviceManagement\\Device.vue?vue&type=style&index=0&id=600e860c&lang=less&scoped=true","dependencies":[{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\src\\components\\DeviceManagement\\Device.vue","mtime":1629361403360},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\css-loader\\dist\\cjs.js","mtime":1628318231365},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1628318231809},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\postcss-loader\\src\\index.js","mtime":1628318231487},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\less-loader\\dist\\cjs.js","mtime":1628318242731},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628318231129},{"path":"D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628318231605}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoucGFnaW5hdGlvbiB7DQogIHdpZHRoOiAxMDAlOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgYm90dG9tOiAxMHB4Ow0KfQ0KLmJveC1jYXJkIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBoZWlnaHQ6IDEwMCU7DQp9DQoubGFiIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBtYXJnaW4tdG9wOiA1cHg7DQogIG1hcmdpbi1ib3R0b206IDVweDsNCiAgZm9udC1zaXplOiAxNnB4Ow0KICBmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIjsNCiAgY29sb3I6ICM2MDYyNjY7DQp9DQo="},{"version":3,"sources":["D:\\BaiduNetdiskWorkspace\\程序文件\\井室管理系统前端\\wellmanagement\\src\\components\\DeviceManagement\\Device.vue"],"names":[],"mappings":";AAkKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd;AACA,CAAC,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"D:/BaiduNetdiskWorkspace/程序文件/井室管理系统前端/wellmanagement/src/components/DeviceManagement/Device.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n    <!--头部-->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"8\">\r\n        <el-input placeholder=\"请输入包含的文字\"></el-input>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button type=\"primary\">搜索</el-button>\r\n        <el-button type=\"success\" @click=\"dialogVisible = true\">添加</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <!--模态窗口-->\r\n    <el-dialog\r\n      title=\"添加设备\"\r\n      v-model=\"dialogVisible\"\r\n      width=\"20%\"\r\n      :before-close=\"handleClose\">\r\n      <div>\r\n        <span class=\"lab\">设备序列号:</span>\r\n        <el-input v-model=\"devicemodel.imei\" placeholder=\"请输入序列号\"></el-input>\r\n        <span class=\"lab\">设备名称:</span>\r\n        <el-input v-model=\"devicemodel.name\" placeholder=\"请输入名称\"></el-input>\r\n        <span class=\"lab\">设备地址:</span>\r\n        <el-input v-model=\"devicemodel.address\" placeholder=\"请输入地址\"></el-input>\r\n      </div>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"adddevice\"\r\n            >确 定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n    <!--模态窗口结束-->\r\n    <!--模态窗口-->\r\n    <el-dialog\r\n      title=\"编辑设备\"\r\n      v-model=\"updatedialogVisible\"\r\n      width=\"20%\"\r\n      :before-close=\"handleClose\">\r\n      <div>\r\n        <span class=\"lab\">设备id:</span>\r\n        <el-input v-model=\"deviceUpdateModel.id\" placeholder=\"请输入id\"></el-input>\r\n        <span class=\"lab\">设备序列号:</span>\r\n        <el-input v-model=\"deviceUpdateModel.imei\" placeholder=\"请输入序列号\"></el-input>\r\n        <span class=\"lab\">设备名称:</span>\r\n        <el-input v-model=\"deviceUpdateModel.name\" placeholder=\"请输入名称\"></el-input>\r\n        <span class=\"lab\">设备地址:</span>\r\n        <el-input v-model=\"deviceUpdateModel.address\" placeholder=\"请输入地址\"></el-input>\r\n      </div>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"updatedialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"updatedevice\"\r\n            >确 定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n    <!--模态窗口结束-->\r\n    <!--要放的东西-->\r\n    <el-table :data=\"deviceData\" style=\"width: 100%; font-size: 15px\">\r\n      <el-table-column prop=\"id\" label=\"设备id\" width=\"360\"> </el-table-column>\r\n      <el-table-column prop=\"imei\" label=\"设备序列号\" width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"设备名称\" width=\"200\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"address\" label=\"地址\"></el-table-column>\r\n      <el-table-column label=\"编辑\" width=\"200\">\r\n        <template v-slot=\"scoped\">\r\n          <el-button type=\"warning\" @click=\"edit(scoped.row)\">编辑</el-button>\r\n          <el-button type=\"danger\" @click=\"del(scoped.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--底部-->\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"totalcount\"\r\n        @current-change=\"currentChangeMethos\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible:false,\r\n      updatedialogVisible:false,\r\n      devicemodel:{\r\n        imei:\"\",\r\n        name:\"\",\r\n        address:\"\"\r\n      },\r\n      deviceUpdateModel:{\r\n        id:\"\",\r\n        imei:\"\",\r\n        name:\"\",\r\n        address:\"\"\r\n      },\r\n      num:\"\",\r\n      deviceData: [],\r\n      totalcount: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    edit(row) {\r\n      this.deviceUpdateModel.id = row.id\r\n      this.deviceUpdateModel.imei = row.imei\r\n      this.deviceUpdateModel.name = row.name\r\n      this.deviceUpdateModel.address = row.address\r\n      this.updatedialogVisible = true\r\n    },\r\n    async del(id) {\r\n      var params = new URLSearchParams();\r\n      params.append('id', id); \r\n      const { data: res } = await this.$http.post(\"Well/DelDevice\",params);\r\n      if (res.meta.status !== 200) {return this.$message.error(res.meta.msg);}\r\n      this.getdevicedata(1,1);\r\n      this.$message.error(\"删除成功！\")\r\n    },\r\n    async updatedevice(){\r\n      const { data: res } = await this.$http.post(\"Well/UpdateDevice\",this.deviceUpdateModel);\r\n      if (res.meta.status !== 200) {this.updatedialogVisible = false;return this.$message.error(res.meta.msg);}\r\n      this.getdevicedata(1,1);\r\n      this.$message.error(\"更新成功！\")\r\n      this.updatedialogVisible = false;\r\n    },\r\n    async getdevicedata(isInit,currentPage) {\r\n      const { data: res } = await this.$http.get(\"Well/GetDevices\",{\r\n          params:{\r\n            page:currentPage\r\n          }\r\n        }\r\n      );\r\n      if (res.meta.status !== 200) return this.$message.error(\"获取失败！\");\r\n      this.deviceData = res.data;\r\n      if (isInit) {this.totalcount = res.count;}\r\n    },\r\n    async adddevice(){\r\n      const { data: res } = await this.$http.post(\"Well/AddDevice\",this.devicemodel);\r\n      if (res.meta.status !== 200) {this.dialogVisible = false;return this.$message.error(res.meta.msg);}\r\n      this.getdevicedata(1,1);\r\n      this.$message.error(\"添加成功！\")\r\n      this.dialogVisible = false;\r\n    },\r\n    async currentChangeMethos(currentPage){\r\n        this.getdevicedata(0,currentPage);\r\n    }\r\n  },\r\n  created() {\r\n    this.getdevicedata(1,1);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.pagination {\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 10px;\r\n}\r\n.box-card {\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n.lab {\r\n  display: inline-block;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  font-size: 16px;\r\n  font-family: \"Helvetica Neue\";\r\n  color: #606266;\r\n}\r\n</style>"]}]}